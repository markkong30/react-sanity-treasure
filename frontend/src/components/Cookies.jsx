import React, { useEffect, useRef } from 'react';
import { gsap } from "gsap";
import './Cookies.css'

const Cookies = ({ storeCookie }) => {
  const cookies = useRef();
  const q = gsap.utils.selector(cookies);

  useEffect(() => {
    const master = gsap.timeline();
    master.add(tl1()).add(jump().repeatDelay(0.1).repeat(-1));

  }, [])

  const tl1 = () => {
    const tl = gsap.timeline({ defaults: { duration: 0.75, ease: "power1.out" } });

    tl.fromTo(q(".cookie-container"), { scale: 0 }, { scale: 1, ease: "elastic.out(1, 0.4)", duration: 1.75 });
    tl.fromTo(q(".cookie"), { opacity: 0, x: -50, rotation: "-45deg" }, { opacity: 1, x: 0, rotation: "0deg" }, "<50%");
    tl.fromTo(q(".text"), { x: 30, opacity: 0 }, { x: 0, opacity: 1 }, "<");

    return tl;
  };

  const jump = () => {
    const tl = gsap.timeline({ defaults: { duration: 0.75, ease: "power1.out" } });

    tl.fromTo(q(".cookie"), { y: 0, rotation: "0deg" }, { y: -20, rotation: "-10deg", yoyo: true, repeat: 1 });
    tl.fromTo(q("#crumbs"), { y: 0 }, { y: -30, yoyo: true, repeat: 1 });

    return tl;
  };


  return (
    <div className="cookie-container" ref={cookies}>
      <svg className="cookie" width="100" height="100" viewBox="0 0 419 419" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="cookies-svgrepo-com 1" clipPath="url(#clip0_1_3)">
          <g id="cookie">
            <path
              id="Vector"
              d="M392.511 203.248L372.592 207.232C365.963 208.557 359.301 205.11 356.555 198.932L335.218 150.922C333.412 146.857 329.834 143.852 325.52 142.773L314.404 139.994C307.972 138.386 303.46 132.608 303.46 125.977V48.9404C303.46 45.3404 302.115 41.8697 299.691 39.2084L272.853 9.75895C248.657 2.09665 222.574 -1.32164 195.457 0.464021C91.2348 7.33006 6.80549 92.1121 0.446017 196.365C-6.97405 318.021 89.4925 419 209.545 419C324.052 419 417.043 327.119 418.955 213.067L401.807 204.493C398.933 203.055 395.662 202.618 392.511 203.248Z"
              fill="#FFE6A1"
            />
            <g id="Group">
              <path
                id="Vector_2"
                d="M274.562 353.982C273.29 353.982 272.037 353.909 270.771 353.886C262.833 362.791 251.309 368.43 238.441 368.43C219.488 368.43 203.419 356.245 197.529 339.298C171.604 329.039 148.22 313.775 128.568 294.667C125.595 295.564 122.508 296.189 119.242 296.189C101.288 296.189 86.7338 281.634 86.7338 263.68C86.7338 257.41 88.5931 251.607 91.6685 246.641C91.4484 246.248 91.2135 245.865 90.995 245.47C68.4451 243.941 50.6139 225.213 50.6139 202.275C50.6139 188.757 56.8056 176.69 66.504 168.741C65.585 160.777 65.062 152.694 65.062 144.482C65.062 103.279 77.0052 64.8869 97.5484 32.4864C38.9654 69.6301 0.0450134 135 0.0450134 209.5C0.0450134 325.204 93.8413 419 209.545 419C284.045 419 349.414 380.08 386.559 321.497C354.158 342.04 315.766 353.982 274.562 353.982Z"
                fill="#FFD796"
              />
              <path
                id="Vector_3"
                d="M162.588 173.379C172.563 173.379 180.649 165.293 180.649 155.319C180.649 145.344 172.563 137.258 162.588 137.258C152.614 137.258 144.528 145.344 144.528 155.319C144.528 165.293 152.614 173.379 162.588 173.379Z"
                fill="#FFD796"
              />
              <path
                id="Vector_4"
                d="M354.028 292.577C364.002 292.577 372.088 284.491 372.088 274.517C372.088 264.543 364.002 256.457 354.028 256.457C344.054 256.457 335.968 264.543 335.968 274.517C335.968 284.491 344.054 292.577 354.028 292.577Z"
                fill="#FFD796"
              />
              <path
                id="Vector_5"
                d="M189.679 292.577C196.661 292.577 202.321 286.917 202.321 279.935C202.321 272.953 196.661 267.293 189.679 267.293C182.697 267.293 177.036 272.953 177.036 279.935C177.036 286.917 182.697 292.577 189.679 292.577Z"
                fill="#FFD796"
              />
              <path
                id="Vector_6"
                d="M287.205 176.991C294.187 176.991 299.847 171.331 299.847 164.349C299.847 157.367 294.187 151.707 287.205 151.707C280.223 151.707 274.563 157.367 274.563 164.349C274.563 171.331 280.223 176.991 287.205 176.991Z"
                fill="#FFD796"
              />
              <path
                id="Vector_7"
                d="M236.636 65.017C243.618 65.017 249.278 59.357 249.278 52.375C249.278 45.393 243.618 39.733 236.636 39.733C229.654 39.733 223.994 45.393 223.994 52.375C223.994 59.357 229.654 65.017 236.636 65.017Z"
                fill="#FFD796"
              />
            </g>
            <g id="Group_2">
              <path
                id="Vector_8"
                d="M199.032 186.083L190.681 200.003C185.689 208.322 190.154 219.1 199.566 221.453L224.424 227.668C232.166 229.603 240.011 224.897 241.946 217.155L244.789 205.78C245.365 203.478 245.365 201.073 244.789 198.771L241.783 186.744C239.913 179.262 232.495 174.568 224.933 176.08L208.588 179.348C204.596 180.148 201.127 182.593 199.032 186.083Z"
                fill="#B97850"
              />
              <path
                id="Vector_9"
                d="M240.73 275.519L232.02 290.036C227.691 297.253 230.421 306.629 237.948 310.392L265.675 324.256C273.943 328.39 283.912 323.804 286.154 314.838L289.01 303.413L292.348 290.058C294.426 281.747 288.856 273.463 280.374 272.251L255.161 268.649C249.408 267.827 243.721 270.535 240.73 275.519Z"
                fill="#B97850"
              />
              <path
                id="Vector_10"
                d="M88.7208 189.334L78.0911 207.051C74.6802 212.736 75.5763 220.013 80.2639 224.701L96.9928 241.431C103.082 247.52 113.112 246.964 118.492 240.24L132.834 222.312C135.65 218.792 136.662 214.157 135.568 209.782L132.297 196.698C130.942 191.281 126.589 187.13 121.114 186.034L103.943 182.6C97.956 181.402 91.8625 184.098 88.7208 189.334Z"
                fill="#B97850"
              />
              <path
                id="Vector_11"
                d="M147.543 72.0312L139.346 85.6928C134.591 93.6187 138.398 103.91 147.166 106.834L164.953 112.763C170.145 114.493 175.869 113.141 179.739 109.272L189.313 99.6983C192.901 96.1097 194.344 90.9009 193.113 85.9776L190.609 75.9617C189.001 69.5286 183.222 65.0162 176.591 65.0162H159.931C154.857 65.017 150.154 67.6799 147.543 72.0312Z"
                fill="#B97850"
              />
              <path
                id="Vector_12"
                d="M322.037 183.697L313.675 192.06C308.033 197.702 308.033 206.85 313.675 212.493L317.767 216.585C322.165 220.983 328.882 222.073 334.445 219.292L358.11 207.46C364.167 204.431 367.308 197.603 365.666 191.033L364.594 186.745C362.724 179.263 355.306 174.569 347.744 176.081L329.422 179.746C326.624 180.304 324.055 181.68 322.037 183.697Z"
                fill="#B97850"
              />
              <path
                id="Vector_13"
                d="M268.315 80.5723L258.719 93.3666C255.195 98.0656 254.867 104.432 257.889 109.469L266.767 124.266C271.011 131.34 280.307 133.43 287.17 128.855L305.199 116.835C312.101 112.235 313.72 102.78 308.743 96.1449L298.943 83.0773C297.179 80.7262 294.741 78.9684 291.953 78.0395L284.442 75.5353C278.542 73.5672 272.046 75.5967 268.315 80.5723Z"
                fill="#B97850"
              />
              <path
                id="Vector_14"
                d="M144.677 308.837L135.243 320.629C129.186 328.2 132.158 339.469 141.16 343.07L153.832 348.139C157.277 349.517 161.119 349.517 164.564 348.139L178.785 342.45C187.306 339.042 190.532 328.656 185.442 321.02L182.999 317.356C181.604 315.264 179.688 313.573 177.439 312.448L162.422 304.939C156.326 301.893 148.932 303.517 144.677 308.837Z"
                fill="#B97850"
              />
            </g>
            <g id="Group_3">
              <path
                id="Vector_15"
                d="M114.921 239.715L98.1917 222.986C93.5041 218.298 92.6072 211.021 96.0189 205.336L106.649 187.62C107.555 186.109 108.753 184.882 110.078 183.828L103.944 182.602C97.9568 181.405 91.8625 184.101 88.7208 189.336L78.0911 207.052C74.6802 212.737 75.5763 220.014 80.2639 224.703L96.9928 241.432C102.637 247.076 111.621 246.94 117.194 241.545C116.395 241.016 115.626 240.421 114.921 239.715Z"
                fill="#A5694B"
              />
              <path
                id="Vector_16"
                d="M179.424 107.619L161.637 101.691C152.869 98.7678 149.06 88.4761 153.816 80.5503L162.013 66.8886C162.43 66.193 162.98 65.621 163.497 65.017H159.93C154.856 65.017 150.153 67.68 147.541 72.032L139.345 85.6929C134.588 93.6187 138.395 103.91 147.165 106.834L164.952 112.763C170.143 114.493 175.867 113.141 179.737 109.272L181.083 107.926C180.53 107.811 179.969 107.801 179.424 107.619Z"
                fill="#A5694B"
              />
              <path
                id="Vector_17"
                d="M238.133 223.514L213.274 217.299C203.862 214.945 199.397 204.168 204.389 195.849L212.741 181.929C213.735 180.272 215.056 178.874 216.579 177.752L208.588 179.35C204.597 180.148 201.127 182.594 199.032 186.085L190.681 200.005C185.689 208.324 190.154 219.102 199.566 221.455L224.424 227.669C229.661 228.979 234.899 227.201 238.368 223.549C238.289 223.529 238.211 223.533 238.133 223.514Z"
                fill="#A5694B"
              />
              <path
                id="Vector_18"
                d="M280.263 123.017L271.384 108.22C268.362 103.183 268.69 96.8177 272.215 92.117L281.81 79.3236C282.861 77.9218 284.165 76.8235 285.58 75.9127L284.441 75.5338C278.541 73.5673 272.045 75.5968 268.313 80.5716L258.719 93.365C255.194 98.0649 254.866 104.431 257.888 109.468L266.766 124.265C270.996 131.315 280.241 133.406 287.098 128.891C284.35 127.748 281.918 125.775 280.263 123.017Z"
                fill="#A5694B"
              />
              <path
                id="Vector_19"
                d="M329.363 215.623C323.72 209.98 323.72 200.833 329.363 195.19L337.725 186.827C339.742 184.811 342.311 183.435 345.109 182.876L360.531 179.792C357.231 176.656 352.52 175.125 347.743 176.081L329.421 179.745C326.624 180.305 324.055 181.68 322.037 183.696L313.675 192.059C308.033 197.702 308.033 206.849 313.675 212.492L317.767 216.585C321.893 220.71 328.03 221.791 333.369 219.631L329.363 215.623Z"
                fill="#A5694B"
              />
              <path
                id="Vector_20"
                d="M255.846 309.18C248.319 305.417 245.588 296.041 249.919 288.824L258.629 274.308C259.771 272.406 261.386 270.963 263.166 269.793L255.163 268.65C249.408 267.828 243.721 270.535 240.731 275.52L232.021 290.036C227.691 297.253 230.421 306.629 237.949 310.392L265.676 324.256C271.203 327.02 277.439 325.827 281.669 322.093L255.846 309.18Z"
                fill="#A5694B"
              />
              <path
                id="Vector_21"
                d="M168.28 345.724L155.608 340.655C146.607 337.055 143.635 325.785 149.691 318.214L159.125 306.422C159.724 305.673 160.397 305.018 161.107 304.419C155.292 302.192 148.634 303.89 144.677 308.837L135.243 320.629C129.186 328.2 132.158 339.469 141.16 343.07L153.832 348.139C157.277 349.517 161.119 349.517 164.564 348.139L169.619 346.117C169.171 345.987 168.715 345.898 168.28 345.724Z"
                fill="#A5694B"
              />
            </g>
            <path
              id="Vector_22"
              d="M57.8294 296.182C56.7467 296.182 55.6419 295.936 54.6058 295.42C51.0362 293.636 49.5893 289.297 51.375 285.728L58.5994 271.28C60.3851 267.71 64.7126 266.278 68.2921 268.049C71.8618 269.834 73.3086 274.172 71.523 277.741L64.2985 292.189C63.0325 294.721 60.4825 296.182 57.8294 296.182Z"
              fill="#C98850"
            />
            <path
              id="Vector_23"
              d="M187.872 390.103H180.648C176.658 390.103 173.423 386.872 173.423 382.878C173.423 378.886 176.658 375.654 180.648 375.654H187.872C191.862 375.654 195.097 378.885 195.097 382.878C195.097 386.872 191.862 390.103 187.872 390.103Z"
              fill="#925F4A"
            />
            <path
              id="Vector_24"
              d="M158.969 252.844C157.886 252.844 156.781 252.598 155.745 252.083C152.176 250.297 150.729 245.959 152.514 242.39L159.739 227.942C161.52 224.379 165.849 222.94 169.431 224.711C173.001 226.497 174.448 230.834 172.662 234.404L165.438 248.852C164.172 251.384 161.621 252.844 158.969 252.844Z"
              fill="#C98850"
            />
            <g id="Group_4">
              <path
                id="Vector_25"
                d="M115.624 137.258C114.542 137.258 113.437 137.012 112.401 136.497L97.9527 129.272C94.383 127.486 92.9362 123.149 94.7218 119.579C96.5034 116.017 100.835 114.57 104.414 116.349L118.863 123.572C122.432 125.358 123.879 129.695 122.093 133.265C120.827 135.798 118.277 137.258 115.624 137.258Z"
                fill="#925F4A"
              />
              <path
                id="Vector_26"
                d="M202.321 36.1199H187.873C183.884 36.1199 180.649 32.889 180.649 28.8954C180.649 24.9018 183.884 21.671 187.873 21.671H202.321C206.311 21.671 209.546 24.9018 209.546 28.8954C209.546 32.889 206.311 36.1199 202.321 36.1199Z"
                fill="#925F4A"
              />
            </g>
            <path
              id="Vector_27"
              d="M231.225 144.482C228.572 144.482 226.022 143.022 224.756 140.489L217.531 126.041C215.746 122.472 217.193 118.133 220.762 116.349C224.339 114.57 228.674 116.017 230.455 119.579L237.679 134.028C239.465 137.597 238.018 141.936 234.448 143.72C233.411 144.236 232.308 144.482 231.225 144.482Z"
              fill="#C98850"
            />
            <g id="Group_5">
              <path
                id="Vector_28"
                d="M32.9684 179.857C31.997 179.378 31.1156 178.668 30.4127 177.748C27.9985 174.569 28.6197 170.038 31.799 167.625L44.6652 157.857C47.8413 155.442 52.3693 156.068 54.7883 159.243C57.2025 162.421 56.5814 166.953 53.402 169.366L40.5366 179.133C38.2804 180.845 35.3474 181.028 32.9684 179.857Z"
                fill="#925F4A"
              />
              <path
                id="Vector_29"
                d="M303.459 260.069C301.61 260.069 299.762 259.363 298.352 257.953L283.904 243.504C281.082 240.683 281.082 236.111 283.904 233.289C286.725 230.467 291.297 230.467 294.119 233.289L308.567 247.737C311.389 250.559 311.389 255.131 308.567 257.953C307.156 259.363 305.307 260.069 303.459 260.069Z"
                fill="#925F4A"
              />
            </g>
            <path
              id="Vector_30"
              d="M317.907 332.31C316.059 332.31 314.21 331.605 312.8 330.194C309.978 327.372 309.978 322.8 312.8 319.979L320.024 312.754C322.846 309.932 327.418 309.932 330.24 312.754C333.062 315.576 333.062 320.148 330.24 322.97L323.015 330.194C321.604 331.605 319.756 332.31 317.907 332.31Z"
              fill="#C98850"
            />
          </g>
          <g id="crumbs">
            <g id="Group_6">
              <path
                id="Vector_31"
                d="M333.001 36.2245V54.451C333.001 59.5624 338.162 63.0568 342.908 61.1582L364.581 52.4894C367.323 51.392 369.122 48.7356 369.122 45.7821V36.2245C369.122 32.235 365.887 29 361.897 29H340.224C336.236 29 333.001 32.235 333.001 36.2245Z"
                fill="#FFE6A1"
              />
              <path
                id="Vector_32"
                d="M348.446 93.1774L343.836 125.449C342.752 133.04 347.787 140.156 355.305 141.659L368.536 144.305C374.277 145.454 380.143 143.024 383.391 138.152L388.367 130.689C390.944 126.822 391.505 121.952 389.874 117.601L374.802 77.4109C372.927 72.4124 366.515 71.0236 362.74 74.7987L352.533 85.0045C350.322 87.2148 348.888 90.0832 348.446 93.1774Z"
                fill="#FFE6A1"
              />
            </g>
            <g id="Group_7">
              <path
                id="Vector_33"
                d="M384.663 131.473L371.433 128.827C363.914 127.323 358.879 120.206 359.963 112.616L364.573 80.3455C364.985 77.4674 366.327 74.8388 368.279 72.6996C366.319 72.6006 364.306 73.2315 362.74 74.7962L352.533 85.0028C350.322 87.2132 348.888 90.0815 348.447 93.1758L343.837 125.446C342.752 133.038 347.788 140.154 355.306 141.657L368.536 144.303C374.277 145.45 380.144 143.021 383.392 138.15L387.745 131.621C386.72 131.641 385.695 131.68 384.663 131.473Z"
                fill="#FFD796"
              />
              <path
                id="Vector_34"
                d="M357.356 46.7093C352.61 48.6071 347.449 45.1127 347.449 40.002V29H340.224C336.235 29 333 32.235 333 36.2245V54.451C333 59.5624 338.161 63.0568 342.907 61.1582L364.58 52.4894C367.322 51.392 369.121 48.7364 369.121 45.7821V42.0037L357.356 46.7093Z"
                fill="#FFD796"
              />
              <path
                id="Vector_35"
                d="M387.171 164.881L382.901 173.422C381.885 175.455 381.885 177.849 382.901 179.883L384.85 183.781C386.793 187.668 391.703 188.972 395.318 186.562L406.964 178.798C408.974 177.458 410.181 175.202 410.181 172.787V165.004C410.181 160.073 405.35 156.591 400.673 158.151L391.347 161.259C389.531 161.864 388.028 163.167 387.171 164.881Z"
                fill="#FFD796"
              />
            </g>
          </g>
        </g>
        <defs>
          <clipPath id="clip0_1_3">
            <rect width="419" height="419" fill="white" />
          </clipPath>
        </defs>
      </svg>
      <div className="cookie-text">
        <h2 className="cookie-title">Cookie Policy</h2>

        <p className="cookie-subtitle">We use analytical cookies to make your experience on this website better.</p>
        <button className='cookie-btn' onClick={storeCookie}>Okay, got it</button>
      </div>
    </div>
  );
};

export default Cookies;